{"filter":false,"title":"tutorialGraph.js","tooltip":"/script/tutorialGraph.js","undoManager":{"mark":25,"position":25,"stack":[[{"start":{"row":0,"column":0},"end":{"row":149,"column":15},"action":"insert","lines":["(function($){","","  var Renderer = function(canvas){","    var canvas = $(canvas).get(0)","    var ctx = canvas.getContext(\"2d\");","    var particleSystem","","    var that = {","      init:function(system){","        //","        // the particle system will call the init function once, right before the","        // first frame is to be drawn. it's a good place to set up the canvas and","        // to pass the canvas size to the particle system","        //","        // save a reference to the particle system for use in the .redraw() loop","        particleSystem = system","","        // inform the system of the screen dimensions so it can map coords for us.","        // if the canvas is ever resized, screenSize should be called again with","        // the new dimensions","        particleSystem.screenSize(canvas.width, canvas.height) ","        particleSystem.screenPadding(80) // leave an extra 80px of whitespace per side","        ","        // set up some event handlers to allow for node-dragging","        that.initMouseHandling()","      },","      ","      redraw:function(){","        // ","        // redraw will be called repeatedly during the run whenever the node positions","        // change. the new positions for the nodes can be accessed by looking at the","        // .p attribute of a given node. however the p.x & p.y values are in the coordinates","        // of the particle system rather than the screen. you can either map them to","        // the screen yourself, or use the convenience iterators .eachNode (and .eachEdge)","        // which allow you to step through the actual node objects but also pass an","        // x,y point in the screen's coordinate system","        // ","        ctx.fillStyle = \"white\"","        ctx.fillRect(0,0, canvas.width, canvas.height)","        ","        particleSystem.eachEdge(function(edge, pt1, pt2){","          // edge: {source:Node, target:Node, length:#, data:{}}","          // pt1:  {x:#, y:#}  source position in screen coords","          // pt2:  {x:#, y:#}  target position in screen coords","","          // draw a line from pt1 to pt2","          ctx.strokeStyle = \"rgba(0,0,0, .333)\"","          ctx.lineWidth = 1","          ctx.beginPath()","          ctx.moveTo(pt1.x, pt1.y)","          ctx.lineTo(pt2.x, pt2.y)","          ctx.stroke()","        })","","        particleSystem.eachNode(function(node, pt){","          // node: {mass:#, p:{x,y}, name:\"\", data:{}}","          // pt:   {x:#, y:#}  node position in screen coords","","          // draw a rectangle centered at pt","          var w = 10","          ctx.fillStyle = (node.data.alone) ? \"orange\" : \"black\"","          ctx.fillRect(pt.x-w/2, pt.y-w/2, w,w)","        })    \t\t\t","      },","      ","      initMouseHandling:function(){","        // no-nonsense drag and drop (thanks springy.js)","        var dragged = null;","","        // set up a handler object that will initially listen for mousedowns then","        // for moves and mouseups while dragging","        var handler = {","          clicked:function(e){","            var pos = $(canvas).offset();","            _mouseP = arbor.Point(e.pageX-pos.left, e.pageY-pos.top)","            dragged = particleSystem.nearest(_mouseP);","","            if (dragged && dragged.node !== null){","              // while we're dragging, don't let physics move the node","              dragged.node.fixed = true","            }","","            $(canvas).bind('mousemove', handler.dragged)","            $(window).bind('mouseup', handler.dropped)","","            return false","          },","          dragged:function(e){","            var pos = $(canvas).offset();","            var s = arbor.Point(e.pageX-pos.left, e.pageY-pos.top)","","            if (dragged && dragged.node !== null){","              var p = particleSystem.fromScreen(s)","              dragged.node.p = p","            }","","            return false","          },","","          dropped:function(e){","            if (dragged===null || dragged.node===undefined) return","            if (dragged.node !== null) dragged.node.fixed = false","            dragged.node.tempMass = 1000","            dragged = null","            $(canvas).unbind('mousemove', handler.dragged)","            $(window).unbind('mouseup', handler.dropped)","            _mouseP = null","            return false","          }","        }","        ","        // start listening","        $(canvas).mousedown(handler.clicked);","","      },","      ","    }","    return that","  }    ","","  $(document).ready(function(){","    var sys = arbor.ParticleSystem(1000, 600, 0.5) // create the system with sensible repulsion/stiffness/friction","    sys.parameters({gravity:true}) // use center-gravity to make the graph settle nicely (ymmv)","    sys.renderer = Renderer(\"#viewport\") // our newly created renderer will have its .init() method called shortly by sys...","","    // add some nodes to the graph and watch it go...","    sys.addEdge('a','b')","    sys.addEdge('a','c')","    sys.addEdge('a','d')","    sys.addEdge('a','e')","    sys.addNode('f', {alone:true, mass:.25})","","    // or, equivalently:","    //","    // sys.graft({","    //   nodes:{","    //     f:{alone:true, mass:.25}","    //   }, ","    //   edges:{","    //     a:{ b:{},","    //         c:{},","    //         d:{},","    //         e:{}","    //     }","    //   }","    // })","    ","  })","","})(this.jQuery)"],"id":1}],[{"start":{"row":0,"column":12},"end":{"row":0,"column":13},"action":"insert","lines":[" "],"id":2},{"start":{"row":2,"column":0},"end":{"row":2,"column":2},"action":"insert","lines":["  "]},{"start":{"row":2,"column":35},"end":{"row":2,"column":36},"action":"insert","lines":[" "]},{"start":{"row":3,"column":0},"end":{"row":3,"column":4},"action":"insert","lines":["    "]},{"start":{"row":4,"column":4},"end":{"row":4,"column":8},"action":"insert","lines":["    "]},{"start":{"row":5,"column":0},"end":{"row":5,"column":4},"action":"insert","lines":["    "]},{"start":{"row":7,"column":4},"end":{"row":7,"column":8},"action":"insert","lines":["    "]},{"start":{"row":8,"column":0},"end":{"row":8,"column":4},"action":"insert","lines":["    "]},{"start":{"row":8,"column":10},"end":{"row":8,"column":12},"action":"insert","lines":["  "]},{"start":{"row":8,"column":17},"end":{"row":8,"column":18},"action":"insert","lines":[" "]},{"start":{"row":8,"column":34},"end":{"row":8,"column":35},"action":"insert","lines":[" "]},{"start":{"row":9,"column":0},"end":{"row":9,"column":4},"action":"insert","lines":["    "]},{"start":{"row":9,"column":12},"end":{"row":9,"column":16},"action":"insert","lines":["    "]},{"start":{"row":10,"column":0},"end":{"row":10,"column":8},"action":"insert","lines":["        "]},{"start":{"row":11,"column":0},"end":{"row":11,"column":4},"action":"insert","lines":["    "]},{"start":{"row":11,"column":12},"end":{"row":11,"column":16},"action":"insert","lines":["    "]},{"start":{"row":12,"column":8},"end":{"row":12,"column":16},"action":"insert","lines":["        "]},{"start":{"row":13,"column":0},"end":{"row":13,"column":4},"action":"insert","lines":["    "]},{"start":{"row":13,"column":12},"end":{"row":13,"column":16},"action":"insert","lines":["    "]},{"start":{"row":14,"column":0},"end":{"row":14,"column":8},"action":"insert","lines":["        "]},{"start":{"row":15,"column":0},"end":{"row":15,"column":4},"action":"insert","lines":["    "]},{"start":{"row":15,"column":12},"end":{"row":15,"column":16},"action":"insert","lines":["    "]},{"start":{"row":17,"column":0},"end":{"row":17,"column":8},"action":"insert","lines":["        "]},{"start":{"row":18,"column":0},"end":{"row":18,"column":4},"action":"insert","lines":["    "]},{"start":{"row":18,"column":12},"end":{"row":18,"column":16},"action":"insert","lines":["    "]},{"start":{"row":19,"column":8},"end":{"row":19,"column":16},"action":"insert","lines":["        "]},{"start":{"row":20,"column":0},"end":{"row":20,"column":4},"action":"insert","lines":["    "]},{"start":{"row":20,"column":12},"end":{"row":20,"column":16},"action":"insert","lines":["    "]},{"start":{"row":20,"column":70},"end":{"row":21,"column":4},"action":"insert","lines":["","    "]},{"start":{"row":21,"column":5},"end":{"row":22,"column":0},"action":"remove","lines":["",""]},{"start":{"row":21,"column":5},"end":{"row":21,"column":8},"action":"insert","lines":["   "]},{"start":{"row":22,"column":0},"end":{"row":23,"column":0},"action":"insert","lines":["",""]},{"start":{"row":23,"column":8},"end":{"row":24,"column":0},"action":"remove","lines":["",""]},{"start":{"row":24,"column":8},"end":{"row":24,"column":16},"action":"insert","lines":["        "]},{"start":{"row":25,"column":6},"end":{"row":25,"column":12},"action":"insert","lines":["      "]},{"start":{"row":25,"column":14},"end":{"row":26,"column":0},"action":"insert","lines":["",""]},{"start":{"row":27,"column":6},"end":{"row":28,"column":0},"action":"remove","lines":["",""]},{"start":{"row":27,"column":19},"end":{"row":27,"column":20},"action":"insert","lines":[" "]},{"start":{"row":27,"column":30},"end":{"row":27,"column":31},"action":"insert","lines":[" "]},{"start":{"row":28,"column":0},"end":{"row":28,"column":6},"action":"insert","lines":["      "]},{"start":{"row":28,"column":14},"end":{"row":28,"column":16},"action":"insert","lines":["  "]},{"start":{"row":29,"column":0},"end":{"row":29,"column":6},"action":"insert","lines":["      "]},{"start":{"row":29,"column":14},"end":{"row":29,"column":16},"action":"insert","lines":["  "]},{"start":{"row":30,"column":0},"end":{"row":30,"column":6},"action":"insert","lines":["      "]},{"start":{"row":30,"column":14},"end":{"row":30,"column":16},"action":"insert","lines":["  "]},{"start":{"row":31,"column":0},"end":{"row":31,"column":6},"action":"insert","lines":["      "]},{"start":{"row":31,"column":14},"end":{"row":31,"column":16},"action":"insert","lines":["  "]},{"start":{"row":32,"column":8},"end":{"row":32,"column":16},"action":"insert","lines":["        "]},{"start":{"row":33,"column":0},"end":{"row":33,"column":6},"action":"insert","lines":["      "]},{"start":{"row":33,"column":14},"end":{"row":33,"column":16},"action":"insert","lines":["  "]},{"start":{"row":34,"column":0},"end":{"row":34,"column":6},"action":"insert","lines":["      "]},{"start":{"row":34,"column":14},"end":{"row":34,"column":16},"action":"insert","lines":["  "]},{"start":{"row":35,"column":0},"end":{"row":35,"column":6},"action":"insert","lines":["      "]},{"start":{"row":35,"column":14},"end":{"row":35,"column":16},"action":"insert","lines":["  "]},{"start":{"row":36,"column":8},"end":{"row":36,"column":16},"action":"insert","lines":["        "]},{"start":{"row":37,"column":0},"end":{"row":37,"column":6},"action":"insert","lines":["      "]},{"start":{"row":37,"column":14},"end":{"row":37,"column":16},"action":"insert","lines":["  "]},{"start":{"row":38,"column":0},"end":{"row":38,"column":6},"action":"insert","lines":["      "]},{"start":{"row":38,"column":14},"end":{"row":38,"column":16},"action":"insert","lines":["  "]},{"start":{"row":38,"column":31},"end":{"row":38,"column":32},"action":"insert","lines":[" "]},{"start":{"row":38,"column":63},"end":{"row":39,"column":0},"action":"insert","lines":["",""]},{"start":{"row":40,"column":8},"end":{"row":41,"column":0},"action":"remove","lines":["",""]},{"start":{"row":40,"column":64},"end":{"row":40,"column":65},"action":"insert","lines":[" "]},{"start":{"row":41,"column":0},"end":{"row":41,"column":2},"action":"insert","lines":["  "]},{"start":{"row":41,"column":12},"end":{"row":41,"column":20},"action":"insert","lines":["        "]},{"start":{"row":42,"column":0},"end":{"row":42,"column":7},"action":"insert","lines":["       "]},{"start":{"row":42,"column":17},"end":{"row":42,"column":20},"action":"insert","lines":["   "]},{"start":{"row":43,"column":0},"end":{"row":43,"column":5},"action":"insert","lines":["     "]},{"start":{"row":43,"column":15},"end":{"row":43,"column":20},"action":"insert","lines":["     "]},{"start":{"row":45,"column":0},"end":{"row":45,"column":3},"action":"insert","lines":["   "]},{"start":{"row":45,"column":13},"end":{"row":45,"column":20},"action":"insert","lines":["       "]},{"start":{"row":46,"column":0},"end":{"row":46,"column":9},"action":"insert","lines":["         "]},{"start":{"row":46,"column":19},"end":{"row":46,"column":20},"action":"insert","lines":[" "]},{"start":{"row":47,"column":10},"end":{"row":47,"column":20},"action":"insert","lines":["          "]},{"start":{"row":48,"column":0},"end":{"row":48,"column":5},"action":"insert","lines":["     "]},{"start":{"row":48,"column":15},"end":{"row":48,"column":20},"action":"insert","lines":["     "]},{"start":{"row":49,"column":0},"end":{"row":49,"column":10},"action":"insert","lines":["          "]},{"start":{"row":50,"column":0},"end":{"row":50,"column":1},"action":"insert","lines":[" "]},{"start":{"row":50,"column":11},"end":{"row":50,"column":20},"action":"insert","lines":["         "]},{"start":{"row":51,"column":0},"end":{"row":51,"column":7},"action":"insert","lines":["       "]},{"start":{"row":51,"column":17},"end":{"row":51,"column":20},"action":"insert","lines":["   "]},{"start":{"row":52,"column":8},"end":{"row":52,"column":16},"action":"insert","lines":["        "]},{"start":{"row":54,"column":0},"end":{"row":54,"column":5},"action":"insert","lines":["     "]},{"start":{"row":54,"column":13},"end":{"row":54,"column":16},"action":"insert","lines":["   "]},{"start":{"row":54,"column":58},"end":{"row":54,"column":59},"action":"insert","lines":[" "]},{"start":{"row":55,"column":0},"end":{"row":55,"column":4},"action":"insert","lines":["    "]},{"start":{"row":55,"column":14},"end":{"row":55,"column":20},"action":"insert","lines":["      "]},{"start":{"row":56,"column":0},"end":{"row":56,"column":2},"action":"insert","lines":["  "]},{"start":{"row":56,"column":12},"end":{"row":56,"column":20},"action":"insert","lines":["        "]},{"start":{"row":58,"column":0},"end":{"row":58,"column":7},"action":"insert","lines":["       "]},{"start":{"row":58,"column":17},"end":{"row":58,"column":20},"action":"insert","lines":["   "]},{"start":{"row":59,"column":10},"end":{"row":59,"column":20},"action":"insert","lines":["          "]},{"start":{"row":60,"column":0},"end":{"row":60,"column":3},"action":"insert","lines":["   "]},{"start":{"row":60,"column":13},"end":{"row":60,"column":20},"action":"insert","lines":["       "]},{"start":{"row":61,"column":0},"end":{"row":61,"column":9},"action":"insert","lines":["         "]},{"start":{"row":61,"column":19},"end":{"row":61,"column":20},"action":"insert","lines":[" "]},{"start":{"row":61,"column":37},"end":{"row":61,"column":38},"action":"insert","lines":[" "]},{"start":{"row":61,"column":39},"end":{"row":61,"column":40},"action":"insert","lines":[" "]},{"start":{"row":61,"column":41},"end":{"row":61,"column":42},"action":"insert","lines":[" "]},{"start":{"row":61,"column":43},"end":{"row":61,"column":44},"action":"insert","lines":[" "]},{"start":{"row":61,"column":51},"end":{"row":61,"column":52},"action":"insert","lines":[" "]},{"start":{"row":61,"column":53},"end":{"row":61,"column":54},"action":"insert","lines":[" "]},{"start":{"row":61,"column":55},"end":{"row":61,"column":56},"action":"insert","lines":[" "]},{"start":{"row":61,"column":57},"end":{"row":61,"column":58},"action":"insert","lines":[" "]},{"start":{"row":61,"column":63},"end":{"row":61,"column":64},"action":"insert","lines":[" "]},{"start":{"row":62,"column":0},"end":{"row":62,"column":6},"action":"insert","lines":["      "]},{"start":{"row":62,"column":14},"end":{"row":62,"column":16},"action":"insert","lines":["  "]},{"start":{"row":62,"column":18},"end":{"row":63,"column":0},"action":"insert","lines":["",""]},{"start":{"row":63,"column":4},"end":{"row":64,"column":0},"action":"remove","lines":["\t\t\t",""]},{"start":{"row":63,"column":4},"end":{"row":63,"column":5},"action":"insert","lines":[" "]},{"start":{"row":63,"column":11},"end":{"row":63,"column":12},"action":"insert","lines":[" "]},{"start":{"row":63,"column":14},"end":{"row":64,"column":0},"action":"insert","lines":["",""]},{"start":{"row":65,"column":6},"end":{"row":66,"column":0},"action":"remove","lines":["",""]},{"start":{"row":65,"column":30},"end":{"row":65,"column":31},"action":"insert","lines":[" "]},{"start":{"row":65,"column":41},"end":{"row":65,"column":42},"action":"insert","lines":[" "]},{"start":{"row":66,"column":0},"end":{"row":66,"column":3},"action":"insert","lines":["   "]},{"start":{"row":66,"column":11},"end":{"row":66,"column":16},"action":"insert","lines":["     "]},{"start":{"row":67,"column":8},"end":{"row":67,"column":16},"action":"insert","lines":["        "]},{"start":{"row":69,"column":0},"end":{"row":69,"column":3},"action":"insert","lines":["   "]},{"start":{"row":69,"column":11},"end":{"row":69,"column":16},"action":"insert","lines":["     "]},{"start":{"row":70,"column":8},"end":{"row":70,"column":16},"action":"insert","lines":["        "]},{"start":{"row":71,"column":0},"end":{"row":71,"column":3},"action":"insert","lines":["   "]},{"start":{"row":71,"column":11},"end":{"row":71,"column":16},"action":"insert","lines":["     "]},{"start":{"row":72,"column":10},"end":{"row":72,"column":20},"action":"insert","lines":["          "]},{"start":{"row":72,"column":28},"end":{"row":72,"column":29},"action":"insert","lines":[" "]},{"start":{"row":72,"column":40},"end":{"row":72,"column":41},"action":"insert","lines":[" "]},{"start":{"row":73,"column":0},"end":{"row":73,"column":12},"action":"insert","lines":["            "]},{"start":{"row":74,"column":0},"end":{"row":74,"column":2},"action":"insert","lines":["  "]},{"start":{"row":74,"column":14},"end":{"row":74,"column":24},"action":"insert","lines":["          "]},{"start":{"row":74,"column":53},"end":{"row":74,"column":54},"action":"insert","lines":[" "]},{"start":{"row":74,"column":55},"end":{"row":74,"column":56},"action":"insert","lines":[" "]},{"start":{"row":74,"column":73},"end":{"row":74,"column":74},"action":"insert","lines":[" "]},{"start":{"row":74,"column":75},"end":{"row":74,"column":76},"action":"insert","lines":[" "]},{"start":{"row":75,"column":0},"end":{"row":75,"column":2},"action":"insert","lines":["  "]},{"start":{"row":75,"column":14},"end":{"row":75,"column":24},"action":"insert","lines":["          "]},{"start":{"row":77,"column":0},"end":{"row":77,"column":6},"action":"insert","lines":["      "]},{"start":{"row":77,"column":18},"end":{"row":77,"column":24},"action":"insert","lines":["      "]},{"start":{"row":77,"column":61},"end":{"row":77,"column":62},"action":"insert","lines":[" "]},{"start":{"row":78,"column":0},"end":{"row":78,"column":14},"action":"insert","lines":["              "]},{"start":{"row":79,"column":0},"end":{"row":79,"column":11},"action":"insert","lines":["           "]},{"start":{"row":79,"column":25},"end":{"row":79,"column":28},"action":"insert","lines":["   "]},{"start":{"row":80,"column":12},"end":{"row":80,"column":24},"action":"insert","lines":["            "]},{"start":{"row":82,"column":0},"end":{"row":82,"column":1},"action":"insert","lines":[" "]},{"start":{"row":82,"column":13},"end":{"row":82,"column":24},"action":"insert","lines":["           "]},{"start":{"row":83,"column":0},"end":{"row":83,"column":5},"action":"insert","lines":["     "]},{"start":{"row":83,"column":17},"end":{"row":83,"column":24},"action":"insert","lines":["       "]},{"start":{"row":85,"column":0},"end":{"row":85,"column":9},"action":"insert","lines":["         "]},{"start":{"row":85,"column":21},"end":{"row":85,"column":24},"action":"insert","lines":["   "]},{"start":{"row":86,"column":10},"end":{"row":86,"column":20},"action":"insert","lines":["          "]},{"start":{"row":87,"column":0},"end":{"row":87,"column":2},"action":"insert","lines":["  "]},{"start":{"row":87,"column":12},"end":{"row":87,"column":20},"action":"insert","lines":["        "]},{"start":{"row":87,"column":28},"end":{"row":87,"column":29},"action":"insert","lines":[" "]},{"start":{"row":87,"column":40},"end":{"row":87,"column":41},"action":"insert","lines":[" "]},{"start":{"row":88,"column":0},"end":{"row":88,"column":6},"action":"insert","lines":["      "]},{"start":{"row":88,"column":18},"end":{"row":88,"column":24},"action":"insert","lines":["      "]},{"start":{"row":89,"column":0},"end":{"row":89,"column":10},"action":"insert","lines":["          "]},{"start":{"row":89,"column":22},"end":{"row":89,"column":24},"action":"insert","lines":["  "]},{"start":{"row":89,"column":51},"end":{"row":89,"column":52},"action":"insert","lines":[" "]},{"start":{"row":89,"column":53},"end":{"row":89,"column":54},"action":"insert","lines":[" "]},{"start":{"row":89,"column":71},"end":{"row":89,"column":72},"action":"insert","lines":[" "]},{"start":{"row":89,"column":73},"end":{"row":89,"column":74},"action":"insert","lines":[" "]},{"start":{"row":91,"column":0},"end":{"row":91,"column":10},"action":"insert","lines":["          "]},{"start":{"row":91,"column":22},"end":{"row":91,"column":24},"action":"insert","lines":["  "]},{"start":{"row":91,"column":61},"end":{"row":91,"column":62},"action":"insert","lines":[" "]},{"start":{"row":92,"column":0},"end":{"row":92,"column":13},"action":"insert","lines":["             "]},{"start":{"row":92,"column":27},"end":{"row":92,"column":28},"action":"insert","lines":[" "]},{"start":{"row":93,"column":14},"end":{"row":93,"column":28},"action":"insert","lines":["              "]},{"start":{"row":94,"column":0},"end":{"row":94,"column":1},"action":"insert","lines":[" "]},{"start":{"row":94,"column":13},"end":{"row":94,"column":24},"action":"insert","lines":["           "]},{"start":{"row":96,"column":0},"end":{"row":96,"column":5},"action":"insert","lines":["     "]},{"start":{"row":96,"column":17},"end":{"row":96,"column":24},"action":"insert","lines":["       "]},{"start":{"row":97,"column":0},"end":{"row":97,"column":9},"action":"insert","lines":["         "]},{"start":{"row":97,"column":19},"end":{"row":97,"column":20},"action":"insert","lines":[" "]},{"start":{"row":99,"column":0},"end":{"row":99,"column":7},"action":"insert","lines":["       "]},{"start":{"row":99,"column":17},"end":{"row":99,"column":20},"action":"insert","lines":["   "]},{"start":{"row":99,"column":28},"end":{"row":99,"column":29},"action":"insert","lines":[" "]},{"start":{"row":99,"column":40},"end":{"row":99,"column":41},"action":"insert","lines":[" "]},{"start":{"row":100,"column":0},"end":{"row":100,"column":2},"action":"insert","lines":["  "]},{"start":{"row":100,"column":14},"end":{"row":100,"column":24},"action":"insert","lines":["          "]},{"start":{"row":100,"column":35},"end":{"row":100,"column":36},"action":"insert","lines":[" "]},{"start":{"row":100,"column":39},"end":{"row":100,"column":40},"action":"insert","lines":[" "]},{"start":{"row":100,"column":60},"end":{"row":100,"column":61},"action":"insert","lines":[" "]},{"start":{"row":100,"column":64},"end":{"row":100,"column":65},"action":"insert","lines":[" "]},{"start":{"row":101,"column":0},"end":{"row":101,"column":2},"action":"insert","lines":["  "]},{"start":{"row":101,"column":14},"end":{"row":101,"column":24},"action":"insert","lines":["          "]},{"start":{"row":102,"column":0},"end":{"row":102,"column":6},"action":"insert","lines":["      "]},{"start":{"row":102,"column":18},"end":{"row":102,"column":24},"action":"insert","lines":["      "]},{"start":{"row":103,"column":0},"end":{"row":103,"column":10},"action":"insert","lines":["          "]},{"start":{"row":103,"column":22},"end":{"row":103,"column":24},"action":"insert","lines":["  "]},{"start":{"row":104,"column":0},"end":{"row":104,"column":12},"action":"insert","lines":["            "]},{"start":{"row":105,"column":0},"end":{"row":105,"column":2},"action":"insert","lines":["  "]},{"start":{"row":105,"column":14},"end":{"row":105,"column":24},"action":"insert","lines":["          "]},{"start":{"row":106,"column":12},"end":{"row":106,"column":24},"action":"insert","lines":["            "]},{"start":{"row":107,"column":0},"end":{"row":107,"column":10},"action":"insert","lines":["          "]},{"start":{"row":107,"column":22},"end":{"row":107,"column":24},"action":"insert","lines":["  "]},{"start":{"row":108,"column":10},"end":{"row":108,"column":20},"action":"insert","lines":["          "]},{"start":{"row":109,"column":0},"end":{"row":109,"column":4},"action":"insert","lines":["    "]},{"start":{"row":109,"column":12},"end":{"row":109,"column":16},"action":"insert","lines":["    "]},{"start":{"row":109,"column":17},"end":{"row":110,"column":0},"action":"insert","lines":["",""]},{"start":{"row":111,"column":8},"end":{"row":112,"column":0},"action":"remove","lines":["",""]},{"start":{"row":112,"column":0},"end":{"row":112,"column":2},"action":"insert","lines":["  "]},{"start":{"row":112,"column":10},"end":{"row":112,"column":16},"action":"insert","lines":["      "]},{"start":{"row":114,"column":0},"end":{"row":114,"column":1},"action":"insert","lines":[" "]},{"start":{"row":114,"column":7},"end":{"row":114,"column":12},"action":"insert","lines":["     "]},{"start":{"row":115,"column":0},"end":{"row":116,"column":2},"action":"insert","lines":["","  "]},{"start":{"row":116,"column":8},"end":{"row":116,"column":9},"action":"insert","lines":["}"]},{"start":{"row":117,"column":4},"end":{"row":118,"column":0},"action":"remove","lines":["}",""]},{"start":{"row":118,"column":2},"end":{"row":118,"column":4},"action":"remove","lines":["} "]},{"start":{"row":118,"column":4},"end":{"row":118,"column":5},"action":"remove","lines":[" "]},{"start":{"row":118,"column":4},"end":{"row":118,"column":5},"action":"insert","lines":["}"]},{"start":{"row":120,"column":0},"end":{"row":120,"column":1},"action":"insert","lines":[" "]},{"start":{"row":120,"column":3},"end":{"row":120,"column":4},"action":"insert","lines":[" "]},{"start":{"row":120,"column":32},"end":{"row":120,"column":33},"action":"insert","lines":[" "]},{"start":{"row":121,"column":0},"end":{"row":121,"column":4},"action":"insert","lines":["    "]},{"start":{"row":122,"column":0},"end":{"row":122,"column":2},"action":"insert","lines":["  "]},{"start":{"row":122,"column":6},"end":{"row":122,"column":8},"action":"insert","lines":["  "]},{"start":{"row":122,"column":24},"end":{"row":122,"column":25},"action":"insert","lines":[" "]},{"start":{"row":122,"column":33},"end":{"row":122,"column":34},"action":"insert","lines":[" "]},{"start":{"row":122,"column":38},"end":{"row":122,"column":39},"action":"insert","lines":[" "]},{"start":{"row":123,"column":0},"end":{"row":123,"column":3},"action":"insert","lines":["   "]},{"start":{"row":123,"column":7},"end":{"row":123,"column":8},"action":"insert","lines":[" "]},{"start":{"row":125,"column":4},"end":{"row":125,"column":8},"action":"insert","lines":["    "]},{"start":{"row":126,"column":0},"end":{"row":126,"column":4},"action":"insert","lines":["    "]},{"start":{"row":126,"column":24},"end":{"row":126,"column":25},"action":"insert","lines":[" "]},{"start":{"row":127,"column":0},"end":{"row":127,"column":4},"action":"insert","lines":["    "]},{"start":{"row":127,"column":24},"end":{"row":127,"column":25},"action":"insert","lines":[" "]},{"start":{"row":128,"column":0},"end":{"row":128,"column":1},"action":"insert","lines":[" "]},{"start":{"row":128,"column":5},"end":{"row":128,"column":8},"action":"insert","lines":["   "]},{"start":{"row":128,"column":24},"end":{"row":128,"column":25},"action":"insert","lines":[" "]},{"start":{"row":129,"column":0},"end":{"row":129,"column":4},"action":"insert","lines":["    "]},{"start":{"row":129,"column":24},"end":{"row":129,"column":25},"action":"insert","lines":[" "]},{"start":{"row":130,"column":0},"end":{"row":130,"column":4},"action":"insert","lines":["    "]},{"start":{"row":130,"column":26},"end":{"row":130,"column":27},"action":"insert","lines":[" "]},{"start":{"row":130,"column":33},"end":{"row":130,"column":34},"action":"insert","lines":[" "]},{"start":{"row":130,"column":45},"end":{"row":130,"column":46},"action":"insert","lines":[" "]},{"start":{"row":130,"column":49},"end":{"row":130,"column":50},"action":"insert","lines":[" "]},{"start":{"row":132,"column":0},"end":{"row":132,"column":4},"action":"insert","lines":["    "]},{"start":{"row":133,"column":0},"end":{"row":133,"column":2},"action":"insert","lines":["  "]},{"start":{"row":133,"column":6},"end":{"row":133,"column":8},"action":"insert","lines":["  "]},{"start":{"row":134,"column":0},"end":{"row":134,"column":4},"action":"insert","lines":["    "]},{"start":{"row":135,"column":0},"end":{"row":135,"column":2},"action":"insert","lines":["  "]},{"start":{"row":135,"column":6},"end":{"row":135,"column":8},"action":"insert","lines":["  "]},{"start":{"row":136,"column":0},"end":{"row":136,"column":4},"action":"insert","lines":["    "]},{"start":{"row":137,"column":0},"end":{"row":137,"column":2},"action":"insert","lines":["  "]},{"start":{"row":137,"column":6},"end":{"row":137,"column":8},"action":"insert","lines":["  "]},{"start":{"row":138,"column":0},"end":{"row":138,"column":4},"action":"insert","lines":["    "]},{"start":{"row":139,"column":0},"end":{"row":139,"column":2},"action":"insert","lines":["  "]},{"start":{"row":139,"column":6},"end":{"row":139,"column":8},"action":"insert","lines":["  "]},{"start":{"row":140,"column":0},"end":{"row":140,"column":2},"action":"insert","lines":["  "]},{"start":{"row":140,"column":6},"end":{"row":140,"column":8},"action":"insert","lines":["  "]},{"start":{"row":141,"column":0},"end":{"row":141,"column":2},"action":"insert","lines":["  "]},{"start":{"row":141,"column":6},"end":{"row":141,"column":8},"action":"insert","lines":["  "]},{"start":{"row":142,"column":0},"end":{"row":142,"column":2},"action":"insert","lines":["  "]},{"start":{"row":142,"column":6},"end":{"row":142,"column":8},"action":"insert","lines":["  "]},{"start":{"row":143,"column":0},"end":{"row":143,"column":2},"action":"insert","lines":["  "]},{"start":{"row":143,"column":6},"end":{"row":143,"column":8},"action":"insert","lines":["  "]},{"start":{"row":144,"column":0},"end":{"row":144,"column":2},"action":"insert","lines":["  "]},{"start":{"row":144,"column":6},"end":{"row":144,"column":8},"action":"insert","lines":["  "]},{"start":{"row":145,"column":0},"end":{"row":145,"column":2},"action":"insert","lines":["  "]},{"start":{"row":145,"column":6},"end":{"row":145,"column":8},"action":"insert","lines":["  "]},{"start":{"row":146,"column":0},"end":{"row":146,"column":2},"action":"remove","lines":["  "]},{"start":{"row":146,"column":0},"end":{"row":147,"column":0},"action":"insert","lines":["",""]},{"start":{"row":147,"column":2},"end":{"row":148,"column":0},"action":"remove","lines":["",""]},{"start":{"row":149,"column":15},"end":{"row":150,"column":0},"action":"insert","lines":["",""]}],[{"start":{"row":9,"column":16},"end":{"row":14,"column":88},"action":"remove","lines":["//","                // the particle system will call the init function once, right before the","                // first frame is to be drawn. it's a good place to set up the canvas and","                // to pass the canvas size to the particle system","                //","                // save a reference to the particle system for use in the .redraw() loop"],"id":3}],[{"start":{"row":11,"column":0},"end":{"row":14,"column":37},"action":"remove","lines":["","                // inform the system of the screen dimensions so it can map coords for us.","                // if the canvas is ever resized, screenSize should be called again with","                // the new dimensions"],"id":4}],[{"start":{"row":13,"column":49},"end":{"row":15,"column":72},"action":"remove","lines":["// leave an extra 80px of whitespace per side","","                // set up some event handlers to allow for node-dragging"],"id":5}],[{"start":{"row":10,"column":39},"end":{"row":11,"column":0},"action":"remove","lines":["",""],"id":6}],[{"start":{"row":9,"column":12},"end":{"row":9,"column":16},"action":"remove","lines":["    "],"id":7}],[{"start":{"row":9,"column":8},"end":{"row":9,"column":12},"action":"remove","lines":["    "],"id":8}],[{"start":{"row":9,"column":4},"end":{"row":9,"column":8},"action":"remove","lines":["    "],"id":9}],[{"start":{"row":9,"column":0},"end":{"row":9,"column":4},"action":"remove","lines":["    "],"id":10}],[{"start":{"row":8,"column":36},"end":{"row":9,"column":0},"action":"remove","lines":["",""],"id":11}],[{"start":{"row":16,"column":16},"end":{"row":24,"column":19},"action":"remove","lines":["// ","                // redraw will be called repeatedly during the run whenever the node positions","                // change. the new positions for the nodes can be accessed by looking at the","                // .p attribute of a given node. however the p.x & p.y values are in the coordinates","                // of the particle system rather than the screen. you can either map them to","                // the screen yourself, or use the convenience iterators .eachNode (and .eachEdge)","                // which allow you to step through the actual node objects but also pass an","                // x,y point in the screen's coordinate system","                // "],"id":12}],[{"start":{"row":16,"column":12},"end":{"row":16,"column":16},"action":"remove","lines":["    "],"id":13}],[{"start":{"row":16,"column":8},"end":{"row":16,"column":12},"action":"remove","lines":["    "],"id":14}],[{"start":{"row":16,"column":4},"end":{"row":16,"column":8},"action":"remove","lines":["    "],"id":15}],[{"start":{"row":16,"column":0},"end":{"row":16,"column":4},"action":"remove","lines":["    "],"id":16}],[{"start":{"row":15,"column":32},"end":{"row":16,"column":0},"action":"remove","lines":["",""],"id":17}],[{"start":{"row":20,"column":18},"end":{"row":24,"column":50},"action":"remove","lines":["  // edge: {source:Node, target:Node, length:#, data:{}}","                    // pt1:  {x:#, y:#}  source position in screen coords","                    // pt2:  {x:#, y:#}  target position in screen coords","","                    // draw a line from pt1 to pt2"],"id":18}],[{"start":{"row":30,"column":14},"end":{"row":33,"column":54},"action":"remove","lines":["      // node: {mass:#, p:{x,y}, name:\"\", data:{}}","                    // pt:   {x:#, y:#}  node position in screen coords","","                    // draw a rectangle centered at pt"],"id":19}],[{"start":{"row":38,"column":8},"end":{"row":38,"column":64},"action":"remove","lines":["        // no-nonsense drag and drop (thanks springy.js)"],"id":20}],[{"start":{"row":38,"column":4},"end":{"row":38,"column":8},"action":"remove","lines":["    "],"id":21}],[{"start":{"row":38,"column":0},"end":{"row":38,"column":4},"action":"remove","lines":["    "],"id":22}],[{"start":{"row":37,"column":43},"end":{"row":38,"column":0},"action":"remove","lines":["",""],"id":23}],[{"start":{"row":39,"column":0},"end":{"row":41,"column":56},"action":"remove","lines":["","                // set up a handler object that will initially listen for mousedowns then","                // for moves and mouseups while dragging"],"id":24}],[{"start":{"row":38,"column":35},"end":{"row":39,"column":0},"action":"remove","lines":["",""],"id":25}],[{"start":{"row":46,"column":28},"end":{"row":46,"column":84},"action":"remove","lines":["// while we're dragging, don't let physics move the node"],"id":26}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":46,"column":28},"end":{"row":46,"column":28},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1539717477169,"hash":"101286d544c180e6cdb738152cf245440f6372cd"}